<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

	<head th:include="header :: head">
		<title id="pageTitle">Kundenkonto</title>
	</head>
	<body>
		<nav th:include="navbar :: navbar"></nav>	
	
		<div id="title">
			<t1 sec:authorize="isAuthenticated()" th:text="${'Willkommen, ' + #authentication?.name + '!'}">Hallo Nutzer</t1>
		</div>
		
		
		<div class="ui grid">
  			<div class="four wide column">
  				<div id="leftspace">
  					<t2>Ihre Daten bei uns:</t2>
  				</div>
  				<div id="textnhead">
  					<t3>Name</t3>
  					<br>
  					<tnorm th:text="${name}">Name</tnorm>
  				</div>
  				<div id="textnhead">
  					<t3>E-Mail Adresse:</t3>
  					<br>
  					<tnorm th:text="${email}">E-Mail</tnorm>
  				</div>
  				<div id="textnhead">
  					<t3>Anschrift:</t3>
  					<br>
  					<tnorm th:text="${address}">Addresse</tnorm>
  				</div>
  				<div id="textnhead">
  					<button class="ui button">Daten ändern</button>
  				</div>
  			</div>
  			<div class="twelve wide column">
  				<t2>Bestellübersicht</t2>


				<table class="ui inverted grey table">
					<thead>
					<tr>
						<th>Datum</th>
						<th>Preis</th>
						<th>Status</th>

					</tr>
					</thead>
					<tbody>
					<tr th:each="ordered : ${ordersofthedudeopen} ">

						<td th:text="${#temporals.format(ordered.dateCreated, 'dd.MM.yyyy HH:mm')}"></td>
						<td th:text="${ordered.totalPrice}"></td>
						<td th:text="Austehend"></td>
						<td><form th:action="@{/cancelthatorder}">
							<button id="buttonspace" type="submit" class="ui button" th:text="stornieren">stronieren</button>
							<input name="orderidentity" type="hidden" th:value="${ordered.id}">
						</form></td>

					</tr>
					<tr th:each="ordered : ${ordersofthedudepaid} ">

						<td th:text="${#temporals.format(ordered.dateCreated, 'dd.MM.yyyy HH:mm')}"></td>
						<td th:text="${ordered.totalPrice}"></td>
						<td th:text="Bezahlt"></td>
					</tr>
					<tr th:each="ordered : ${ordersofthedudecomplete} ">

						<td th:text="${#temporals.format(ordered.dateCreated, 'dd.MM.yyyy HH:mm')}"></td>
						<td th:text="${ordered.totalPrice}"></td>
						<td th:text="Abgeschlossen"></td>
					</tr>
					</tbody>
				</table>


				<form th:action="@{/showcustomerorders}">
					<button id="buttonspace" type="submit" class="ui button" th:text="Aktualisieren">buttonoforderview</button>
					<input name="nameoftheorderer" type="hidden" th:value="${name}">
					<input name="emailoftheorderer" type="hidden" th:value="${email}">
					<input name="addressoftheorderer" type="hidden" th:value="${address}">
				</form>

  			</div>
		</div>
	</body>

</html>
