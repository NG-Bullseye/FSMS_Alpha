<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

	<head th:include="header :: head">
		<title id="pageTitle">Kundenkonto</title>
	</head>
	<body>
		<nav th:include="navbar :: navbar"></nav>	
	
		<div id="title">
			<t1 sec:authorize="hasRole('ROLE_CUSTOMER')" th:text="${'Willkommen, ' + #authentication?.name + '!'}">Hallo Nutzer</t1>
			<t1 sec:authorize="hasRole('ROLE_EMPLOYEE')" th:text="${'Account von: ' + name }">Hallo Nutzer</t1>
		</div>
		
		<div id="tablespace">
			<div class="ui grid">
	  			<div class="four wide column">
	  				<div id="textnhead">
	  					<t2>Ihre Daten bei uns:</t2>
	  				</div>
	  				<div id="textnhead">
	  					<t3>Name</t3>
	  					<br>
	  					<tnorm th:text="${name}">Name</tnorm>
	  				</div>
	  				<div id="textnhead">
	  					<t3>E-Mail Adresse:</t3>
	  					<br>
	  					<tnorm th:text="${email}">E-Mail</tnorm>
	  				</div>
	  				<div id="textnhead">
	  					<t3>Anschrift:</t3>
	  					<br>
	  					<tnorm th:text="${address}">Addresse</tnorm>
	  				</div>
	  				<div id="textnhead">
	  					<a class="ui button" id="data" th:text="${'Daten ' + 'ändern'}">Daten ändern</a>
	  				</div>
	  			</div>
	  			<div class="twelve wide column">
	  				<t2>Bestellübersicht</t2>
	
	
					<table class="ui inverted grey table">
						<thead>
						<tr>
							<th>Datum</th>
							<th>Preis</th>
							<th>Status</th>
						</tr>
						</thead>
						<tbody>
						<tr th:each="ordered : ${ordersofthedude} ">
	
							<td th:text="${#temporals.format(ordered.dateCreated, 'dd.MM.yyyy HH:mm')}"></td>
							<td th:text="${ordered.totalPrice}"></td>
							<td th:text="${ordered.status}"></td>
	
	
						</tr>
						</tbody>
					</table>
	
	
					<form th:action="@{/showcustomerorders}">
						<button id="buttonspace" type="submit" class="ui button" th:text="Aktualisieren">buttonoforderview</button>
						<input name="nameoftheorderer" type="hidden" th:value="${name}">
						<input name="emailoftheorderer" type="hidden" th:value="${email}">
						<input name="addressoftheorderer" type="hidden" th:value="${address}">
					</form>
	
	  			</div>
			</div>
		</div>
		
	<div class="ui basic modal" id="changeData">
  <div class="ui icon header">
    <i class="archive icon"></i>
    Archive Old Messages
  </div>
  <div class="content">
    <p>Your inbox is getting full, would you like us to enable automatic archiving of old messages?</p>
  </div>
  <div class="actions">
    <div class="ui red basic cancel inverted button">
      <i class="remove icon"></i>
      No
    </div>
    <div class="ui green ok inverted button">
      <i class="checkmark icon"></i>
      Yes
    </div>
  </div>
</div>
	</body>

	<script type="text/javascript">
	$(document).ready(function(){
		$('#data').click(function(){
			$('#changeData').modal('show');
		});
	});
	</script>

</html>
